#type: node
#context: sop
#icon: SOP/bound

= Xform to BBox qL =

*Version 0.0.3*

"""Fits the input geometry into the bounding box of a secondary geometry."""

@related
    - [Node:sop/xform]
    - [Node:sop/bound]
    - [Xform by Points qL|Node:sop/xform_by_points_ql]


@parameters
    Mode:
        How to fit the input geometry within the bounds of the secondary geometry.

        Fit into Box:
            Apply a non-proportional scaling to the input geometry to fit within bounds.

        Clamp to Box Bounds:
            Clamp the coordinates of each point to be fall within bounds range.

            NOTE:
                This mode can be useful for geometry with pieces that 'fell' too far
                (e.g. when trying to add smoke effects to an RBD simulation, where
                a few RBD pieces fell through the floor or were shot towards 'infinity').

    Padding, Low/High:
        Extra padding distance along the three world axes.

    Inside Group:
        Create a group with the given name, containing the points that are inside the box boundaries.

    Outside Group:
        Create a group with the given name for all the points that fell outside the box boundaries.

        WARNING:
            When clamping simulated geometry points (such as RBD fractures), it's good practice to
            zero out the velocities of the outlier points. (Even with clamped point positions,
            large per-point velocities can mess up any following simulation or rendering process.)


@Release_Notes Release Notes

    Version 0.0.3:
        - Options for creating inside/outside point groups.
        - Added guide geometry (padding values included).

    Version 0.0.2:
        Added 'clamp' fitting mode (and `Mode` parameter).

    Version 0.0.1:
        Initial release.
