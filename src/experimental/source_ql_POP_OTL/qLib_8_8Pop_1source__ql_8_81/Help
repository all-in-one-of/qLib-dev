#icon: POP/source
#context: pop
#type: node

= Source qL =

*interface version 1*

"""A more convenient alternative for the original Source POP."""

This operator is a wrapper around the original Source POP, providing the following additional/alternative features:

- Birth rates have multiplier values (for easier gradual emission adjustment)
- A global birth rate multiplier is also provided (to reduce overall particle count, for faster previews, etc.)
- Useful presets for activations and birth rates
- Lifespan variance is specified using min/max values
- Restrictive default settings for attribute inheritance (not inheriting all attributes by default, just velocity and up vector)

@Parameters
    (Only the additional parameters are described here.
    See the [Source POP|Node:pop/source] documentation for the regular node parameters.)

    POP Network:
        Name of the POP network that contains this node. The path "`..`" is usually fine -- this parameter needs to be set
        only if the Source node is within a subnet in the POP network.

        The container POP network path is needed for certain operations (e.g. creating a global rate multiplier) or
        expressions (e.g. preset for first frame-only emission).

    Create & Link to Popnet Global Rate:
        This button will create a "`Global Rate Mult %`" parameter on the parent POP network container and links this parameter
        to the same parameter on the Source SOP.

        TIP:
            By linking all Sources to the container this way, the total amount of processed particles can be easily controlled.
            (The fastest way is to link one Source, then copy the `ch()` expression from that node to all the other Sources.)

    Source (tab):
        No additional features.

    Birth (tab):
        Global Rate Mult %:
            An overall emission rate multiplier, affecting all emission types.
            All emission rates get multiplied with this value.

            TIP:
                (todo: tip about wedged particles workflow)

        Impulse Activation:
            Same as the original Source POP parameter.

            There is a menu preset that provides emission on the first frame
            of the particle simulation (also takes preroll into account).

        Impulse Birth Rate:
            Same as the original Source POP parameter. Note that this is
            a _per-frame_ emission amount.

        Impulse Mult %:
            A multiplier on the impulse birth rate. Useful to add gradual changes
            to emission rates (e.g. animation) without animating the rate
            parameter itself.

        Constant Activation:
            See _Impulse Activation_ above (same presets provided).

        Constant Birth Rate:
            Same as the original Source POP parameter. Note that this is
            a _per-second_ emission amount (i.e. per-frame values should be
            multiplied by `$FPS` to get the expected result).

        Constant Mult %:
            See _Impulse Mult %_ above.

        Life Expectancy Type:
            The way of specifying particle lifespan settings.

            Min/max:
                Lifespan values will be chosen at random from a min/max value range.

            Life +- variance:
                Lifespans will be generated by randomly picking numbers, centered at
                the expectancy value with the given variance (default Houdini behaviour).

        Life Min, Max:
            Lifespan range of the emitted particles (_per-second_).

            These are min/max settings, meaning that all particles will live
            at least as long as _Life Min_, but no particle will live longer
            than _Life Max_.

        Life Expectancy, Life Variance:
            Lifespan settings for life/variance mode. (This is the original
            emitter behaviour.)


    Attributes (tab):
        No additional features.

    Add Attributes (tab):
        No additional features.


WARNING:
    LIMITATION: Most of the local variables specific to the original Source POP
    are not available in the node parameter fields (most notably `$NPT`
    which refers to the point count of the emission source geometry).

    The exceptions (where all local variables are available) are
    the __emission rate__ and `originindex` parameter fields. (Due to technical
    issues, these can't display their proper numeric values, but all variables
    work properly.)

    (It's possible to fix this behaviour for all params, but it would turn node
    internals ugly. As usual, user feedback will decide this question: btw, that means
    _you_ too.)


@related
    - [Node:pop/source]
    - [PointAttr qL SOP|Node:sop/qLib::pointattr_ql::1]
    - [Attr Visualize qL SOP|Node:sop/qLib::attr_visualize_ql::1]



@Release_Notes Release Notes

    _interface version 1_ ---

    2013-01-22:
        - Minor UI fixes and changes
        - More restrictive default settings for attribute inheritance
        - Original Source POP variables (e.g. `$NPT`) now work (but only in the Birth Rate and `originindex` fields right now)
        - Now supports both lifespan (expectancy) modes (min/max and lifespan/variance)

    2013-01-21:
        First version.
